<h4><a name="contents"></a>Contents</h4>
<ul>
	<li><p style="margin-bottom: 0in"><a href="#intro">Introduction</a>
	</p>
	<li><p style="margin-bottom: 0in"><a href="#topmenu">Top menu
	items</a> 
	</p>
	<ul>
		<li><p style="margin-bottom: 0in"><a href="#tmruns">Runs</a> 
		</p>
		<li><p style="margin-bottom: 0in"><a href="#tmout">Output Tables</a> 
		</p>
		<li><p style="margin-bottom: 0in"><a href="#tmsvs">SVS3d</a> 
		</p>
		<li><p style="margin-bottom: 0in"><a href="#tmin">Import Data</a>
		</p>
		<li><p><a href="#tmtool">Tools</a> 
		</p>
	</ul>
</ul>
<h4><a name="intro"></a>Introduction</h4>
<p><b>FVSOnline</b> is an interface to the <a href="https://www.fs.fed.us/fvs/" target="_blank">
Forest Vegetation Simulator (FVS)</a>. FVS takes a file of commands and
input data and produces predictions of forest conditions in the
future. This interface is used to set up the file of commands, run
FVS, and then explore the outputs. The input data are measurements of
trees stored in an input database. Tools for installing and editing
that database are included.</p>
<p>These instructions assume that you are already familiar with FVS.  
<a href="https://www.fs.fed.us/fmsc/ftp/fvs/docs/gtr/EssentialFVS.pdf" target="_blank">
Press here</a> to view an essential background manual. 
</p>
<p>The interface was designed to run in a true client/server
configuration, whereby the data and software are stored on a server
and the user interaction is through a web browser. However, the
software can also be installed on personal computer or in a 
<a href="https://www.citrix.com/" target="_blank">Citrix</a>
(or similar) system. The interaction is still through a web browser,
but the software, inputs and outputs, are all stored on the "personal computer".
This configuration is called FVSOnlocal. The system was built using 
<a href="https://www.r-project.org/" target="_blank"><b>R</b></a>, <a 
href="http://shiny.rstudio.com/" target="_blank"><b>Shiny</b></a>,  
<a href="http://www.sqlite.org/" target="_blank"><b>SQLite3</b></a>, and many other
R packages. For more information on the
software and supporting software requirements see the 
<a href="https://sourceforge.net/p/open-fvs/wiki/FVSOnline/" target="_blank">
wiki about FVSOnline software</a>.</p>
<p><i>Hints</i> for first time users:</p>
<ul>
	<li><p style="margin-bottom: 0in">Use the default input database
	while learning, load your own data once you're comfortable using the
	interface. Note that there is a command under the <b>Tools</b> menu
	that lets you delete all runs and related outputs so you can easily
	start fresh with your own data. 
	</p>
	<li><p style="margin-bottom: 0in">Use default settings and options
	until you need to change them. 
	</p>
	<li><p>Exploring the system is the best way to learn while reading
	this documentation might be helpful after you have some experience. 
	</p>
</ul>
<p><a href="#contents">Back to contents</a> 
</p>
<h4><a name="topmenu"></a>Top menu items</h4>
<ul>
	<li><p style="margin-bottom: 0in"><b>Runs: </b>Set up and make FVS
	simulations; the outputs go to an output database. 
	</p>
	<li><p style="margin-bottom: 0in"><b>Output Tables: </b>Make
	tables, graphs and reports using the outputs stored in the output
	database. 
	</p>
	<li><p style="margin-bottom: 0in"><b>SVS3d: </b>Display 3d images of stands.
	</p>
	<li><p style="margin-bottom: 0in"><b>Import Data: </b>Load (or
	edit) the input database. 
	</p>
	<li><p style="margin-bottom: 0in"><b>Tools: </b>Access commands to
	download data, update software, and delete all runs. 
	</p>
	<li><p><b>Help: </b>Display this help. 
	</p>
</ul>
<h4><a name="tmruns"></a>Runs</h4>
<p>When the <b>Runs</b>
menu is selected the screen is divided into two regions, left and
right. The left side contains the <b>Selected
run</b>
list and buttons to create new runs, reload a selected run, save it, duplicate it 
(more on that later), or delete it. The title of the selected run is displayed in a text box
(you can change it to whatever you wish) and the run <b>Contents</b>
are listed below. There are buttons and other tools below the
<b>Contents</b> that are <a href="#leftSideRun">described below</a>.</p>
<p>The right side contains a secondary menu, used to select
<b>Stands</b> and add <b>Components</b>. Stands are the simulation
units defined in the 
<a href="https://www.fs.fed.us/fmsc/ftp/fvs/docs/gtr/DBSUserGuide.pdf" target="_blank">
input database</a> and components are sets of 
<a href="https://www.fs.fed.us/fmsc/ftp/fvs/docs/gtr/EssentialFVS.pdf" target="_blank">
FVS keywords</a> (also called commands) that that instruct FVS to invoke
options or to simulate management activities. The stands and
components will be added to the <b>Contents</b> list on the left. 
</p>
<p>The first step in building a run is to select the FVS variant you
wish to use. Only those stands that can be run with the selected
variant will be listed as possible choices. Select one or more groups
and then select the stands from the selected groups. You can add
individually selected stands or all the stands from selected groups
using the buttons found below the list of stands. If you add the same
stand more than once, its identity is modified to account for the
repetition. 
</p>
<p>New <b>Components</b> are added by selecting them, filling out the
associated form, and then saving them. Components are accessed by
first selecting component type:</p>
<ul>
	<li><p style="margin-bottom: 0in"><b>Management</b> for specifying
	management actions 
	</p>
	<li><p style="margin-bottom: 0in"><b>Modifiers</b> for specify
	changes in the FVS predictions 
	</p>
	<li><p style="margin-bottom: 0in"><b>Outputs</b> for FVS output
	controls 
	</p>
	<li><p style="margin-bottom: 0in"><b>Keywords</b> for direct
	access to all FVS keywords 
	</p>
	<li><p><b>Your components</b> to access components you build or
	load (using Build Components). 
	</p>
</ul>
<p>The <b>Time</b> scope of a simulation is automatically set to 50
or 100 years in 5 or 10 years cycles, both depending on the variant.
The parameters of time can be edited and specific years you want
included in the simulation can be specified as a list of years.</p>
<p><b>Run</b> simulations while you wait (great for under 20 stands
or so), or in the background as a separate process. Use the
checkboxes to specify sets of outputs without having to know the
keywords needed to get the outputs you desire. You can also select
alternative run scripts; these are used to implement alternative
models within the FVS framework. Note that when you rerun a run, the
interface clears the output from the previous time you made the run
so that the output database contains the most recently generated
output. If you use the <i>Wait for run</i>option,
the interface will scan the FVS output file for error messages and
display any it finds in the interface. The <i>Run in
background</i> option does not provide that service. However, there is a download button
useful for downloading the FVS “.out” file.</p>
<p><b>Build Components</b> is used to build or upload FVS keyword
sets (sometimes called .kcp files). You name them and you can add
them to simulations using the <i>Your components</i>component
type. Notethat building components using this tool does not automatically add
them to the current simulation. They are saved in the system and can
be added to any of the runs. 
</p>
<p id="leftSideRun">Here
are more details on the left side elements when <b>Runs</b>
is selected in the main manu.
</p>
<p>The Duplicate command found near the top of the left side deserves
some explanation. Lets say you have made a simulation for a
collection of stands using set of components and you wish to make
another run with different components or different settings in
existing components (for example, setting different residual
densities on thinning options). Your idea is that you want to compare
the results. In this case you should <i>duplicate</i>
the first run, giving the duplicate a new name and then edit the
duplicate. You can run and rerun any of the runs as often as you wish
and you can compare the outputs after the simulations are run.</p>
<p>The
buttons found below the Contents list can be used to remove a stand,
group, or component. If a component is removed it is added to a paste
list. To paste one of these components into the run, first select the
component you want to paste, then select a stand, group, or another
component in the Contents list. The pasted component will be added to
the selected stand or group, or directly after the selected
component. You can also edit existing components or convert
components from there formatted state that allows them to be edited
using the same form used to create them or they can be converted to
<i>freeform</i>
that allows them to be directly modified (most useful for experts who
know the <a href="https://www.fs.fed.us/fmsc/ftp/fvs/docs/gtr/keyword.pdf" target="_blank">FVS
keywords</a>). Sometimes components are in the <i>freeform</i>
state from the beginning.  
</p>
<p><a href="#contents">Back to contents</a> 
</p>
<h4><a name="tmout"></a>Output Tables</h4>
<p>Left and right secondary menus occupy the left and right side of
the screen when the <b>Output Tables</b>
menu is selected. Using the left menu, <b>Load</b>
output to select the runs you want to explore. For example, say you
have made two runs and you want to compare their projections. In that
case, you would select them both and then select the database tables
you wish to explore. Composite summary statistics tables are created
for the runs (table name: Composite) and if treelist tables exist,
stand and stock tables (table name StdStk) are also created. If you
wish, you can limit the database columns you want to explore but the
default is to select all the columns from selected tables. The system
automatically merges (joins) the data from the selected tables so you
can explore variables from different tables when you <b>Explore</b> the
data you selected. The data can be displayed as <b>Tables</b>
or <b>Graphs</b> depending on the selections on the right-hand
secondary menu.</p>
<p><b>Explore Data </b>menu item is used to further control which
data are being explored. Use the selection tools on the left to limit
the data used in the tables or graphs to specific runs, groups,
stands, management identification codes (set when you make a run),
years, species and DBHClasses. You can also turn variables on or off
limiting the columns being displayed in tables and those available
for graphing. 
</p>
<p>When <b>Tables</b> are
displayed, you can use tools to change a categorical variable (such
as stand or management identifications) into a column and display a
variable’s value under that column. Tables can be download as .csv
files (easily opened using Excel or other spreadsheet programs). Note
that the number of lines displayed in the table is limited, however,
when the table is downloaded, all lines are included. 
</p>
<p>The <b>Graphs</b> menu
item on the right provides
access to graphing tools that operate on the data displayed in the
table. FVSOnline contains limited logic to preselect settings
depending on the data being analyzed. Your changes are kept until you
go back are reselect the data you want to analyze. The best way to
learn how the graphing tool works it to experiment. Note that making
some selections sometimes changes others. For example, if you change
the vertical facet to the same setting as the horizontal facet, your
selection will be automatically adjusted to <i>None</i>.
Also note that when there are too many levels for a variable—such
as too many stands—then the system blocks the use of the variable
for faceting. Similar limits control the size of the legend that is
created when you select a <i>Plot
by</i> variable.
If you want to keep a graph you can cut-and-paste it from your
browser to some other software, or add it to a custom report,
described next.</p>
<p style="font-variant: normal; font-style: normal">The
<b>Reports</b> menu item on
the right provides access to
a report building feature of the system. You start (or restart)
a new report using the <i>Restart
custom report</i> button.
There are buttons in the Tables and Graphs ares where you can add
tables and graphs to the report (they are added in the order
specified). The report is converted to a .docx file and downloaded
for you to further edit. A future feature of the interface could
provide for automatic generation of reports useful for specific
purposes whereby builtin tools would generated tables, graphs, or
both along with a narrative that you could then edit to meet your
specific needs.</p>
<p><b>Custom Query</b> provides to build and run SQL queries that run
on the output <a href="https://www.sqlite.org/" target="_blank">SQLite3</a>
database (the database structure is defined in the  
<a href="https://www.fs.fed.us/fmsc/ftp/fvs/docs/gtr/DBSUserGuide.pdf" target="_blank">
Users Guide to the Database Extension).</a> The tabular output from 
those queries is displayed as a table and data in that table can be graphed or
downloaded as a .csv file. 
Note that SQLite3 allows the attachment additional databases. For example, 
the input database can be attached and tables from the input can then be 
joined to tables in the output. A <i>query</i> can
actually be several queries each separated by a semicolon. They can
be stored and recovered for later use. Lastly, comments can be included in 
the query by surrounding it with /*  */ character sequences.
</p>
<p><a href="#contents">Back to contents</a> 
</p>
<h4><a name="tmsvs"></a>SVS3d</h4>
<p>You can display two 3d images of stands if the output that support 
<a href="http://forsys.cfr.washington.edu/svs.html" target="_blank">
Stand Visualization System</a> has been created (easily done by checking
SVS under the run tab). Pick a run, and within the Run, pick the stand and 
time period you wish to display. It takes some time for the images to be created 
and transferred to your browser. Once the transfer is completed, you can click 
on the image and rotate it, flip it, and zoom in and out using your mouse.
</p>
<p><a href="#contents">Back to contents</a> 
</p>
<h4><a name="tmin"></a>Import Data</h4>
<p>You can <b>Replace the existing database</b> by uploading an
FVS-Ready database that is stored as a <a href="https://www.sqlite.org/" target="_blank">SQLite3</a>
database (use the file suffix .db) or as a Microsoft Access database
(.mdb or .accdb). The built-in training data or a blank database (and
FVS-Ready database that contains no rows but has predefined columns)
can be installed without uploading a file simply by pressing the
obvious buttons.</p>
<p>You can <b>Upload and insert new rows</b> to existing database
tables. This is done by uploading a .csv file that contains column
headings that are also in the existing database tables. Columns in
the .csv file that are not in the existing table are ignored. Columns
in the existing table that have no values in the .csv file are left
null.</p>
<p>You can <b>View and edit existing tables</b>. Use the <b>Edit</b>
mode to change values or delete rows. Make the changes and then
<b>Commit</b> them to the database. Use the <b>New rows</b> mode to
add new rows. You can limit the variables to consider in either mode;
those not considered are simply hide from view and not altered. If
you hide variables when you add new rows, the hidden variables are
given null values.</p>
<p>More information on the input and output database structure is
in the
<a href="https://www.fs.fed.us/fmsc/ftp/fvs/docs/gtr/DBSUserGuide.pdf" target="_blank">
Users Guide to the Database Extension.</a></p>

<p><a href="#contents">Back to contents</a></p>
<h4><a name="tmtool"></a>Tools</h4>

<p>Use <b>Manage projects</b> to access tools that allow you to delete the runs 
in the current project. You can also create, delete, or download a project backup; 
and restore from an existing backup. When running FVSOnlocal (on your PC
rather than on a remote server), you can create a new project and 
switch between projects.</p>
<p>The <b>Downloads</b> tab provides the ability to download specific
files related to the project. Thre is also a facility for
setting up and downloading a .zip file that contains sevaral optional
elements. </p>
<p>The <b>Refresh software</b> tab allows you to refresh (or add) to the FVS programs
(variants) that are being used with the active project. Note that there are
separate copies of the programs for each project. There is also a command to refresh 
the interface software itself. In most online systems, new versions of the software are
automatically installed and global to all related projects. 
This system is different in that respect.
Sometimes, users require that the system be frozen, especially FVS
itself, until a given analyses is completed. Updating software on
demaind, as done here, supports that need. 
</p>
<p><a href="#contents">Back to contents</a></p>
</body>
</html>